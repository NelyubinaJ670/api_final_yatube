# Проект «API для Yatube»

### Описание
Итоговый проект 11 спринта Яндекс Практикум API для Yatube, в котором реализованы следующие возможности (для зарегистрированных пользователей):
- создавать публикации
- обновлять публикации (в т.ч. частично)
- комментировать посты других пользователей
- подписываться на других пользователей

Для неавторизованных пользователей работа с API доступна в режиме чтения.
### Технологии:
- Python 3.9
- Django 3.2
- Django REST framework
- JWT + Djoser

### Установка (для Windows):
Клонировать репозиторий:
 ```
git clone <https or SSH URL>
```
Перейти в папку с проектом:
 ```
cd api_final_yatube
```
Cоздать и активировать виртуальное окружение:
```
python -m venv venv
```
```
source venv/Scripts/activate
```
Обновить pip:
```
python -m pip install --upgrade pip
```
Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
Выполнить миграции:
```
python manage.py migrate
```
Запустить сервер:
```
python manage.py runserver
```

После запуска сервера, по адресу http://127.0.0.1:8000/redoc/ доступна документация к API.
 
### Примеры запросов
1. Создать пользователя:
придумайте новую пару «логин-пароль» и отправьте POST-запрос
на `http://127.0.0.1:8000/api/v1/users/`
передав их в полях `username` и `password`

2. Получить токен:
отправьте POST-запрос на эндпоинт `http://127.0.0.1:8000/api/v1/jwt/create/`
и передайте действующий логин и пароль в полях `username` и `password`.
Токен вернётся в поле access.

3. Создать пост:
отправьте POST-запрос на эндпоинт `http://127.0.0.1:8000/api/v1/posts/`
и передайте в обязательное поле `text` текст вашего поста и ваш токен
в заголовке запроса в поле `Authorization`:`Bearer <токен>` (если вы работаете в postman полученный токен добавляем в headers)
```
Пример запроса:
{
    "text": "Ваш текст нового поста"
}
```
```
Пример ответа:
{
    "id": 1,
    "text": "Ваш текст нового поста",
    "pub_date": "2023-08-09T13:31:59.561125Z",
    "author": "admin",
    "image": null,
    "group": null
}
```
4. Обновить пост:
отправьте POST-запрос на эндпоинт `http://127.0.0.1:8000/api/v1/posts/{id}/`
и передайте в поле обязательное `text` и не обязательные  `image`, `group` новую информацию и ваш токен в заголовке запроса в поле `Authorization`:`Bearer <токен>` (если вы работаете в postman полученный токен добавляем в headers)
```
Пример запроса:
{
"text": "отредактированный текст поста"
}
```
```
Пример ответа:
{
    "id": 1,
    "text": "отредактированный текст поста",
    "pub_date": "2023-08-09T14:29:07.037856Z",
    "author": "admin",
    "image": null,
    "group": null
}
```
5. Прокомментировать пост пользователя:
отправьте POST-запрос на эндпоинт `http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/`
и передайте в поле `text` текст вашего поста и в поле`post` номер поста, а так же ваш токен
в заголовке запроса в поле `Authorization`:`Bearer <токен>` (если вы работаете в postman полученный токен добавляем в headers)
```
Пример запроса:
{
    "post": 1,
    "text": "Комментарий"
}
```
```
Пример ответа:
{
    "id": 1,
    "author": "admin",
    "post": 1,
    "text": "Комментарий",
    "created": "2023-08-09T14:08:35.262355Z"
}
```
Создать группы можно через админ зону, а для полного доступа нужно создать суперпользователя, воспользуйтесь следующей коммандой:
```
python manage.py createsuperuser
```
Задайте логин и пароль.

Далее запустите проект и перейдите по ссылке `http://127.0.0.1:8000/admin/`

Пройдите в раздел `Группы` и создайте группы.
### Авторы
 Нелюбина Юлия
